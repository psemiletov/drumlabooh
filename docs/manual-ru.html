<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Драмлабух: Руководство</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<link rel="stylesheet" href="styles.css">

</head>
<body>

<header>
  <h1>Драмлабух: Руководство</h1>
</header>

<nav>
  <a href="index-ru.html">Главная</a>
  <a href="news-ru.html">Новости</a>
  <a href="install-ru.html">Скачать</a>
  <a href="manual-ru.html">Руководство</a>
  <a href="donate-ru.html">Донат</a>
  <a href="https://github.com/psemiletov/drumlabooh">Github</a>
</nav>

<div class="container">

  <div class="toc">
    <h2>Оглавление</h2>
    <ul>
      <li><a href="#mni_modesru">1. Стерео и Многоканальный режимы</a></li>
      <li><a href="#mni_kitsru">2.0 Драмкиты</a></li>
      <li><a href="#mni_kits_hydrogenru">2.1 Киты Hydrogen</a></li>
      <li><a href="#mni_kits_sfzru">2.2 Киты SFZ</a></li>
      <li><a href="#mni_kits_laboohru">2.3 Киты Drumlabooh</a></li>
     <li><a href="#mni_kits_dir">2.4 Киты-папки</a></li>
      <li><a href="#mni_mixerru">3. Встроенный микшер</a></li>
      <li><a href="#mni_optionsru">4. Настройки</a></li>
      <li><a href="#multiru">5. О многоканальном режиме подробно</a></li>
      <li><a href="#multiardru">5.1 В Ardour</a></li>
      <li><a href="#multirearu">5.2 В Reaper</a></li>
      <li><a href="#mlticubru">5.3 В Cubase</a></li>
    </ul>
  </div>

  <section>
    <p>Драмлабух старается не мешать творчеству. Всё что вам нужно для написания партии ударных — это создать новую MIDI-дорожку в вашей любимой программе звукозаписи, навесить на неё плагин Drumlabooh и затем выбрать в нём один из установленных драмкитов, или накидать сэмплов из папок, и начать играть с клавиатуры, дрампадов или прописывать квадратики в секвенсоре.</p>
  </section>

  <section id="mni_modesru">
    <h3>1. Стерео и Многоканальный режимы</h3>

<p>Драмлабух идёт в двух версиях плагина — стерео (называется просто <strong>Drumlabooh</strong>) и многоканальной (<strong>Drumlabooh-multi</strong>). Последняя выводит каждый инструмент из драм-кита в свой отдельный моно-канал, всего их может быть 36. Чтобы использовать стерео-версию, подключите к дорожке <strong>Drumlabooh</strong>, а для многоканальной — <strong>Drumlabooh-multi</strong>.</p>

<p>В стерео-версии микширование (уровень, панорама, кнопка mute) происходит на уровне плагина. В многоканальной всё это в плагине излишне и возложено на вашу программу звукозаписи, в микшере которой вы и будете управлять вышеперечисленным.</p>

<p>Читайте <a href="#multiru">ПОДРОБНОСТИ</a> об использовании многоканального режима — как подключать инструменты драмкита к разным дорожкам или шинам.</p>
  </section>

  <section id="mni_kitsru">
    <h3>2.0 Драмкиты</h3>
    <p>При запуске Драмлабух сканирует в нужных папках драмкиты всех известных ему форматов и предлагает вам список, откуда киты можно выбирать. Кроме того, в нижнем левом углу плагина  находится кнопочка <strong>Open</strong>, через неё можно открыть драмкит, лежащий вне папок, в которых ищет Драмлабух. Через диалоговое окно надо выбрать файл xml (для формата Hydrogen), sfz (для SFZ) или, в случае с форматом Drumlabooh, drumkit.txt либо drumkit.labooh.</p>

<h3>Киты форматов Drumlabooh, SFZ и Hydrogen Лабух ищет в следующих папках:</h3>

<pre>/usr/share/drumrox-kits
/usr/share/drumlabooh-kits
$HOME/drumrox-kits
$HOME/drum_sklad
$HOME/drumlabooh-kits
C:\drumlabooh-kits
D:\drumlabooh-kits
C:\drum_sklad
/usr/share/hydrogen/data/drumkits
/usr/local/share/hydrogen/data/drumkits
/usr/share/drmr/drumkits
$HOME/.hydrogen/data/drumkits
$HOME/.drmr/drumkits</pre>

<p>
Можно добавить к этому списку свои, пользовательские папки. Для этого создайте текстовый файл user-dirs.txt в папке <i>C:\drumlabooh</i> (для Windows) или <i>$HOME/.config/drumlabooh</i>, и в файле в каждой строке пропишите полные пути к своим каталогам, например:
</p>

<pre>
/home/test/sfz-main
/home/test/sfz-misc
/home/test/hydrogen-kits
/home/test/drumlabooh
</pre>

<p><strong>Важное замечание!</strong> Загружая драмкит, Драмлабух преобразует его сэмплы в памяти к частоте оцифровки текущей сессии DAW, что при большом драмките может затормозить загрузку и даже создать ощущение зависания. Например, сэмплы в драмките имеют частоту 44.1 кГц, а частота сессии 48 кГц. Просто подождите. Но если не хотите ждать каждый раз, нажмите кнопку <strong>Adapt</strong> в нижней левой части окна плагина. Она сохранит копию текущего драмкита в папку <i>drum_sklad</i>, и у этой копии сэмплы будут с частотой текущей сессии, кроме того данные преобразуются в 32-bit float (24-bit для FLAC) моно. Копия автоматически установится как текущий драмкит. При этом поддерживаются, для такого клонирования, только киты в формате Драмлабух с сэмплами в форматах WAV, AIFF и FLAC.</p>
    <p>Давайте обсудим, какие вообще форматы китов поддерживаются.</p>
  </section>

  <section id="mni_kits_hydrogenru">
    <h3>2.1 Драмкиты в формате Hydrogen</h3>
    <p>При запуске Drumlabooh сканирует все установленные киты от <a href="http://hydrogen-music.org">драм-машины Hydrogen</a>, которая выпускается для Linux и Windows. Под Hydrogen существуют десятки драмкитов, но чтобы установить их, надо запустить сам Hydrogen и пойти в нём в меню <strong>Драмкиты → Online import</strong>, откуда можно скачать киты из двух хранилищ — Hydrogen и Musical Artifacts.</p>

    <p>В Linux при установке самого Hydrogen скорее всего установятся и некоторые киты. На сегодня, под все системы, самый быстрый способ скачать дополнительные киты для Hydrogen — это его вышеописанная функция <strong>Online import</strong>, ибо публичных ссылок на отдельные киты из хранилищ вы не найдёте.</p>
  </section>

  <section id="mni_kits_sfzru">
    <h3>2.2 Драмкиты в формате SFZ</h3>

<p>Драмлабух в формате SFZ поддерживает MIDI mapping, заданный параметрами key. Для использования такого мэппинга установите в Драмлабухе опцию <strong>MIDI map mode</strong> равной "Kit". Иначе же, в режиме "Auto", мэппинг будет в виде последовательной нумерации, начиная, по умолчанию, с миди-ноты 36 для бас-бочки, первого сэмпла по счёту в ките. Однако первую ноту при режиме Auto можно изменить в опции <strong>Base MIDI Note</strong>.
</p>

    <p>Драмкиты превосходного качества — AVL Drumkits — вы можете скачать в формате SFZ по ссылке <a href="http://www.bandshed.net/sounds/AVLDrumkits_SFZ">http://www.bandshed.net/sounds/AVLDrumkits_SFZ</a>. Также большие SFZ-киты можно скачать <a href="https://sfzinstruments.github.io/drums/">тут</a>, однако не все они совместимы с Лабухом.</p>

    <p>Drumlabooh поддерживает ограниченный набор опкодов и параметров SFZ: group, region, key, sample, default_path, offset, lovel, hivel. Drumlabooh не поддерживает для сэмплов в SFZ файлы с именами, содержащими пробелы. Также покамест не поддерживаются сложные драмкиты вроде Salamander.</p>
  </section>

  <section id="mni_kits_laboohru">
    <h3>2.3 Киты в формате Драмлабуха</h3>
    <p>Киты в формате Драмлабуха. Один кит = одна папка, помещённая в <i>$HOME/drumlabooh-kits</i>, <i>/usr/share/drumlabooh-kits</i>, <i>$HOME/drum_sklad</i> (в Linux), либо, для Windows, в <i>c:\drumlabooh-kits</i>, <i>d:\drumlabooh-kits</i>, <i>c:\drum_sklad</i> или <i>d:\drum_sklad</i>. Либо в пользовательские папки.</p>

<p>При установке самого Драмлабуха в комплекте с ним идут киты из официального хранилища <a href="https://github.com/psemiletov/drum_sklad">Drum Sklad on Github</a>. Там же вы можете узнать подробности о формате.</p>

<p>Дополнительные киты, которых нет на Гитхабе, качайте с <a href="https://t.me/drum_sklad">Drum Sklad в Телеге</a>. Так что полная коллекция китов для Драмлабуха лежит на Гитхабе ПЛЮС в Телеге.</p>

<p>Почти все киты формата Драмлабух имеют опциональный, заданный в ките, MIDI-mapping стандарта General MIDI, который можно выбрать в Драмлабухе в опции <strong>MIDI map mode</strong>, где в выпадающем списке надо выбрать "Kit". В противном случае ("Auto") Драмлабух будет осуществлять mapping по принципу нумерации миди-нот начиная, по умолчанию, с 36 для бас-бочки (меняется в опции <strong>MIDI base note</strong>).</p>

<p>Если выбран <strong>MIDI map mode</strong> = "Kit", но mapping в ките не прописан, используется, опять же, автоматический mapping.</p>
</section>



  <section id="mni_kits_dir">
    <h3>2.5 Киты-папки</h3>

    <p>Drumlabooh может использовать в качестве драмкитов папки с сэмплами, помещенные в <i>$HOME/drum_dirs</i>, <i>C:\drum_dirs</i>, или <i>D:\drum_dirs</i> - вложенные туда папки автоматически считаются китами Драмлабуха с альтернативными сэмплами в слотах. Просто создайте папку <i>drum_dirs</i> и поместите туда, например, вложенную папку <i>My Drumkit</i>, в которой лежат в подпапках сэмплы, примерно как ниже - разумеется названия могут отличаться. В примере, "1. Kick" и "2. Snare" это вложенные папки:</p>
    <pre>1. Kick
           kick01.wav
           kick02.wav
           kick03.wav
2. Snare
          snare01.wav
          snare02.wav
          snare03.wav</pre>

    <p>Числа в именах папок помогают правильно сортировать по алфавиту папки при загрузке в слоты.</p>

<p>Это очень простой и быстрый способ использовать дрампаки, скачанные например с <a href="https://www.reddit.com/r/Drumkits/">https://www.reddit.com/r/Drumkits/</a>. Распаковываете киты-папки оттуда в <i>drum_dirs</i>, и вперёд!</p>

<p>Ограничения следующие - максимум 36 папок внутри папки-драмкита, и максимум 128 сэмплов в каждой папке-инструменте.</p>


<h3>Поддерживаемые форматы сэмплов</h3>
    <p>Драмлабух поддерживает сэмплы в форматах WAV, AIFF, OGG, FLAC, MP3. Стерео-сэмплы читаются как моно, движок загружает только левый (первый по счёту) канал, потому что так проще и правильнее микшировать внутри движка. Предварительно панорамированные стерео-киты навязывают вам определённое расположение ударных, и если вы захотите панорамировать их иначе, это ухудшит звучание, ибо исходный сигнал будет слишком нарушен.</p>

    
  </section>

  <section id="mni_mixerru">
    <h3>3. Встроенный микшер</h3>
    <p>Справа от списка с драмкитами расположены ячейки инструментов, куда загружаются ударные из драмкита или внешнего файла. Каждая ячейка состоит из следующих частей:</p>

    <div class="image-center">
      <img src="cell.png" alt="Ячейка инструмента">
    </div>
    <p>1. <strong>Светодиод</strong> — загорается, когда играет инструмент, загруженный в ячейку.</p>
   <p> 2. <strong>Название инструмента</strong> — задано в драмките или вычислено Лабухом, если не задано. Цвет фона меняется в зависимости от типа сэмпла - <span style="background-color:#8398a0; color:#000000;">пустой слот</span>, <span style="background-color:#73da9e; color:#000000;">сэмпл с одним слоем</span>, <span style="background-color:#85da78; color:#000000;">сэмпл с несколькими слоями</span>, <span style="background-color:#87ca0c; color:#000000;">сэмпл с вариантами</span>.  Последние можно выбирать находящимся левее кнопками + и -.</p>


   <p> 3. <strong>FX</strong> — вызывает окно эффектов для текущего инструмента. Окно можно закрыть кнопкой с крестиком либо клавишей Esc. Используйте эффекты, если привычный звук драмкита надоел.<br>
    Имеем два резонансных фильтра — <strong>LP</strong> (низкочастотный, пропускает только частоты ниже определённого значения) и <strong>HP</strong> (высокочастотный). Значение (частота) среза регулируется параметром <strong>cutoff</strong> (первый ползунок фильтра). Также есть параметр резонанса — <strong>resonance</strong>. Играйтесь ими, чтобы на лету делать новые звуки из исходных сэмплов. Если же звучание сэмплов кажется тусклым или убогим, попробуйте включить блок <strong>Analog</strong> и вращать крутилку, чтобы придать сигналу тёплое, аналоговое звучание.
</p>

<p>Следующие элементы интерфейса недоступны в Multi-channel версии плагина, поскольку они бы дублировали элементы DAW для связанных с плагином дорожек:</p>
    <p>4. <strong>Регулятор панорамы</strong> — значения от 0 (крайнее левое) до 1 (крайнее правое), 0.5 — середина. Помещает инструмент левее или правее по алгоритму, заданному опцией <strong>Pan mode</strong> (см. ниже). Разные DAW при микшировании применяют к дорожкам различные режимы панорамы, а некоторые DAW позволяют выбрать режим — собственно, во многом именно алгоритмы панорамы влияют на "фирменное" звучание DAW. Драмлабух, имея внутри себя полноценный микшер, как в DAW, тоже предоставляет выбор режима панорамы.</p>

<p>    5. <strong>Регулятор громкости</strong> — нелинейный, значения от -96 до +6 dB.</p>

<p>    6. Переключатель <strong>Mute</strong> (молчать, заглушить) — если стоит галочка, инструмент не играет, т.е. временно исключается из микса.</p>
  </section>

  <section id="mni_optionsru">
    <h3>4. Настройки плагина</h3>
    <p>В нижней части окна плагина находятся настройки.</p>
    <p><strong>MIDI map mode</strong> — там два режима, <strong>Auto</strong> и <strong>Kit</strong>. Если выбрано <strong>Auto</strong>, Drumlabooh назначает каждому инструменту из кита номера MIDI-нот, начиная с другой опции, <strong>Base MIDI note</strong>, где по умолчанию стоит 36 — это нота C второй октавы. Такой режим установлен по умолчанию и он удобен для игры с MIDI-клавы или прописывания квадратиками в пианоролле. Другой режим, <strong>Kit</strong>, использует номера MIDI-нот, заданные в файле драмкита; как правило, они соответствуют стандарту <a href="https://computermusicresource.com/GM.Percussion.KeyMap.html">General MIDI mapping</a> и совместимы с электронными барабанами или падами. Этот же режим совместим с грувами из Ардора.</p>
    <p>То есть, MIDI mapping — это соответствие номеров MIDI-нот (поступающих от клавиатуры, пэдов или с пианоролла) и инструментов из драмкита. Почти все драмкиты Драмлабуха имеют совместимость с General MIDI при выборе режима Kit. Установки MIDI mapping читаются также из драмкитов формата SFZ. Однако стандарт General MIDI не покрывает всё многообразие ударных, и в некоторых китах ряд инструментов не имеют соответствий в номерах нот General MIDI. Для таких китов, чтобы получить доступ ко всем инструментам кита, лучше выбрать режим мэппинга <strong>Auto</strong>.</p>
    <p>Для более сложного MIDI mapping используйте настройки вашего MIDI-железа или, в Reaper, плагин "JS MIDI map to key v2" — просто подключите его к дорожке перед Драмлабухом и выберите созданный текстовый файл мэппинга условно такого содержания:</p>
    <pre>A3 -> E5
C4 -> C5</pre>
    <p><strong>Fixed MIDI velocity</strong> — включить, чтобы играть сэмплы на максимальной velocity; полезно для электронной музыки.</p>
    <p><strong>Rnd seed tweak</strong> — "зерно" для генератора псевдослучайных чисел, от 1 до 16777216. Drumlabooh использует детерминированный генератор псевдослучайных чисел, гарантирующий, что при одном и том же <strong>Rnd seed tweak</strong> и текущей позиции воспроизведения последовательность чисел каждый раз будет одинаковая.</p>
    <p>Для некоторых многослойных сэмплов в драмкитах есть варианты, которые выбираются на основе значений этого генератора. Это придаёт барабанной партии подобие живой игры. При обычном генераторе вы бы с каждым новым воспроизведением получали разные по звучанию партии, варианты сэмплов не были бы предсказуемы, что затруднило бы микширование и мастеринг.</p>
    <p>В Drumlabooh же каждый раз вы будете получать одну и ту же последовательность таких чисел, однако она зависит от <strong>Rnd seed tweak</strong>. Меняете значение этого параметра — получаете совершенно новую последовательность. У вас есть 16777216 вариантов последовательности.</p>
    <p><strong>Pan mode</strong> — выбор режима панорамы для микшера Драмлабуха. Подробнее <a href="https://en.wikipedia.org/wiki/Panning_law">в этой статье</a>. По умолчанию стоит паннер на основе синуса/косинуса, -3 dB.</p>
    <p>Во многом режим панорамы и определяет звучание микса в DAW, ибо отвечает за воспринимаемую громкость сигнала в приближении ползунка к середине. Вникните в это подробнее, и вероятно будет логичным выбрать в Лабухе такой же режим панорамы, как в вашей DAW.</p>
    <p><strong>Analog</strong>. Глобальный переключатель и слайдер сатуратора, который влияет на весь микс, обрабатывая его в конце цепи следования сигнала. Полезно для живых, но тихих барабанов.</p>
  </section>

  <section id="multiru">
    <h3>5. О многоканальном режиме подробно</h3>
    <p>Повторюсь, что в многоканальной версии плагина — Drumlabooh-multi — <strong>нет ползунков панорамы, громкости и кнопки Mute</strong> — всё это возложено на микшер DAW.</p>
    <p>Драмлабух предоставляет 36 выходных моно-каналов, по одному на каждый инструмент из драмкита.</p>
  </section>

  <section id="multiardru">
    <h3>5.1 Как использовать многоканальность с Ардором?</h3>
    <p>0. Вы можете направить звуковые выходы плагина вручную, создавая дорожки и делая на них роутинг, либо автоматически. Ниже я рассказываю про автоматический режим.</p>
    <p>1. Создайте MIDI-дорожку, выбрав в качестве инструмента Drumlabooh-multi.</p>
    <p>2. Появится вот такое окно:</p>
    <div class="image-center">
      <img src="ard-mult.png" alt="Многоканальность в Ardour">
    </div>
    <p>Выберите "36 channels" и "Fan out", нажмите Add. Готово! Получаете группу из 36 дорожек-каналов, уже с перенаправлением на них звука с дорожки Drumlabooh-multi. Каждая дорожка — один инструмент из кита.</p>
    <p>3. Загрузите в <strong>Drumlabooh-multi</strong> драмкит. Например, в нём будет 18 инструментов. Таким образом, нам нужно только 18 выходных каналов из имеющихся 36. Удалите ненужные.</p>
    <p><strong>Альтернативный путь:</strong></p>
    <p>1. Допустим вы работали на дорожке с обычным стерео-Лабухом и хотите навесить вместо него мульти. Вперёд! Подключите к дорожке мульти-версию. Но теперь мульти будет играть на стерео. Нам это не нужно. Надо раскидать выходы на шины или другие дорожки.</p>
    <p>2. В микшере Ardour, правый клик <strong>в верхней части микшерного канала дорожки</strong> и выберите <strong>Fan out to tracks</strong> или <strong>Fan out to buses</strong>. Подождите немного — и появится группа с моно-дорожками или шинами, в зависимости от того, куда вы распределяли — в дорожки или шины.</p>
    <p>3. Чтобы использовать на такой дорожке или шине стерео-эффект, щелкине правой кнопкой мыши на добавленном эффекте, выберите в появившемся меню пункт <strong>Pin connection</strong> и соедините порты следующим образом:</p>
    <div class="image-center">
      <a href="./mono2stereo.png"><img src="mono2stereo-small.jpg" alt="Преобразование моно в стерео в Ardour"></a>
    </div>

    <p>4. Теперь все новые дорожки-каналы в группе. Объединены. Чтобы нормально работать с ними по отдельности, сделайте правый клик на заголовке группы и выберите пункт меню <strong>Remove group</strong>:</p>
    <div class="image-center">
      <a href="./remove-group.png"><img src="remove-group-small.jpg" alt="Удаление группы в Ardour"></a>
    </div>
    <p>5. Теперь осталось удалить ненужные дорожки — например, в драмките только 18 инструментов, а у нас 36 дорожек!</p>
  </section>

  <section id="multirearu">
    <h3>5.2 Многоканальность в Reaper</h3>
    <p>0. Вы можете направить звуковые выходы плагина вручную, создавая дорожки и делая на них роутинг, либо автоматически. Ниже я рассказываю про автоматический режим.</p>
    <p>1. <strong>Insert</strong> → <strong>Virtual Instrument on track</strong>, добавить <strong>Drumlabooh-multi (LV2i или VST3i)</strong>.</p>
    <p>2. Подтвердить в <strong>Build routing confirmation window</strong>.</p>
    <p>3. Готово!</p>
  </section>




<section id="mlticub">
  <h3>5.3 Как использовать Multi-out в Cubase?</h3>
  <div class="image-center steps">
    <div class="step">
      <p class="step-number">1</p>
      <img src="cub-01.png" alt="Cubase step 1">
    </div>
    <div class="step">
      <p class="step-number">2</p>
      <img src="cub-02.png" alt="Cubase step 2">
    </div>
    <div class="step">
      <p class="step-number">3 - ЗАГРУЖАЕМ КИТ</p>
      <img src="cub-03.png" alt="Cubase step 3" style="width:320px;">
    </div>
    <div class="step">
      <p class="step-number">4</p>
      <img src="cub-04.png" alt="Cubase step 4">
    </div>
    <div class="step">
      <p class="step-number">5</p>
      <img src="cub-05.png" alt="Cubase step 5">
    </div>
    <div class="step">
      <p class="step-number">6</p>
      <img src="cub-06.png" alt="Cubase step 6">
    </div>
    <div class="step">
      <p class="step-number">7</p>
      <img src="cub-07.png" alt="Cubase step 7">
    </div>
    <div class="step">
      <p class="step-number">8</p>
      <img src="cub-08.png" alt="Cubase step 8">
    </div>
    <div class="step">
      <p class="step-number">9</p>
      <img src="cub-09.png" alt="Cubase step 9">
    </div>
  </div>
</section>
</div>


<footer style="
  margin-top: 60px;
  padding: 40px 20px;
  text-align: center;
  background: var(--main-dark);
  border-top: 4px solid var(--green-accent);
  color: var(--text-medium);
  font-family: 'Inter', sans-serif;
  font-size: 0.95rem;
  line-height: 1.5;
">
  <p style="margin: 0 0 12px; font-weight: 500;">
    Создатель Драмлабуха, 
    <a href="https://github.com/psemiletov" style="
      color: var(--green-bright);
      text-decoration: none;
      font-weight: 600;
    "> Петр Семилетов</a>
  </p>

  <p style="margin: 0 0 8px;">
    Поддержите разработку:
    <a href="https://www.paypal.com/cgi-bin/webscr?cmd=_donations&business=peter.semiletov@gmail.com&item_name=Support%20Drumlabooh%20development"
       target="_blank" rel="noopener"
       style="color: var(--orange-accent); text-decoration: underline; font-weight: 600;">
      донатом через PayPal
    </a>
    или в телегу на <strong>@petersemiletov</strong>
  </p>

  <p style="margin: 12px 0 0;">
    Слушайте мою музыку:
    <a href="https://push.fm/fl/semiletov" style="
      color: var(--orange-accent);
      text-decoration: none;
      border-bottom: 1px dotted var(--orange-accent);
      font-weight: 500;
    ">push.fm/fl/semiletov</a>
  </p>
</footer>




</body>
</html>